@inject ICurrentUserService InjUser

@{
    var PgController = ViewContext.RouteData.Values["Controller"].ToNullString();
    var PgAction = ViewContext.RouteData.Values["Action"].ToNullString();
    var PgArea = ViewContext.RouteData.Values["Area"].ToNullString();
    var CurUser = InjUser.GetInfo();
}

<nav class="navbar navbar-vertical fixed-left navbar-expand-md navbar-light" id="sidebar">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#sidebarCollapse"
            aria-controls="sidebarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" asp-action="index" asp-controller="home" asp-area="cms">
            <img src="~/uploads/logo.jpg" class="navbar-brand-img mx-auto" alt="Bike Rentals"
                style="height: auto; width: 100%;">
        </a>
        <div class="collapse navbar-collapse" id="sidebarCollapse">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="@(PgController.ToLower().Equals("home") ? "nav-link active" : "nav-link")"
                        asp-action="index" asp-controller="home" asp-area="cms">
                        <i data-feather="grid"></i> Dashboard
                    </a>
                </li>
            </ul>
            <hr class="navbar-divider my-3">
            <ul class="navbar-nav mb-md-4">
                @switch (CurUser.Role.ToUpper())
                {
                    case "OWNER":
                    case "DEVELOPER":
                        <text>
                            <li class="nav-item">
                                <a class="nav-link" href="#sidebarRentals" data-toggle="collapse" role="button"
                            aria-expanded="false" aria-controls="sidebarRentals">
                                    <i data-feather="circle"></i> Rentals
                                </a>
                                <div class="@(PgController.ToLower().Equals("rentals") ? "collapse show" : "collapse")"
                            id="sidebarRentals">
                                    <ul class="nav nav-sm flex-column">
                                        <li class="nav-item">
                                            <a class="@((PgController.ToLower().Equals("rentals") && PgAction.ToLower().Equals("booking")) ? "nav-link active" : "nav-link")"
                                        asp-area="cms" asp-controller="rentals" asp-action="reservation">
                                                Reservation
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="@((PgController.ToLower().Equals("rentals") && PgAction.ToLower().Equals("leased")) ? "nav-link active" : "nav-link")"
                                        asp-area="cms" asp-controller="rentals" asp-action="leased">
                                                Leased
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="@((PgController.ToLower().Equals("rentals") && PgAction.ToLower().Equals("rejected")) ? "nav-link active" : "nav-link")"
                                        asp-area="cms" asp-controller="rentals" asp-action="rejected">
                                                Rejected
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="@((PgController.ToLower().Equals("rentals") && PgAction.ToLower().Equals("history")) ? "nav-link active" : "nav-link")"
                                        asp-area="cms" asp-controller="rentals" asp-action="history">
                                                History
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <!--
                                    <li class="nav-item">
                                        <a class="nav-link" href="#sidebarManager" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="sidebarManager">
                                            <i data-feather="command"></i> Manager
                                        </a>
                                        <div class="@(PgController.ToLower().Equals("manager") ? "collapse show" : "collapse")" id="sidebarManager">
                                            <ul class="nav nav-sm flex-column">
                                                <li class="nav-item">
                                                    <a class="@((PgController.ToLower().Equals("manager") && PgAction.ToLower().Equals("collections")) ? "nav-link active" : "nav-link")" asp-area="cms" asp-controller="manager" asp-action="collections">
                                                        Collections
                                                    </a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="@((PgController.ToLower().Equals("manager") && PgAction.ToLower().Equals("bikes")) ? "nav-link active" : "nav-link")" asp-area="cms" asp-controller="manager" asp-action="bikes">
                                                        Bikes
                                                    </a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="@((PgController.ToLower().Equals("manager") && PgAction.ToLower().Equals("category")) ? "nav-link active" : "nav-link")" asp-area="cms" asp-controller="manager" asp-action="category">
                                                        Category
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                    -->
                </text>
                        break;
                    default:
                        break;
                }
            </ul>
        </div>
    </div>
</nav>